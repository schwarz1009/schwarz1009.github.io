<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet"  href="style.css">
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/manifest.json">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="theme-color" content="#ffffff">
<title>Java勉強中 - schwarz1009</title>

</head>
<body>
<p><a href="index.html">トップページに戻る</a></p>
<iframe src="menu_menu.html" class="iframe_menu"></iframe>
<p>AUTHOR: schwarz1009<br>
TITLE: Java勉強中<br>
BASENAME: 2020/09/18/170601<br>
STATUS: Publish<br>
ALLOW COMMENTS: 1<br>
CONVERT BREAKS: 0<br>
DATE: 09/18/2020 17:06:01<br>
CATEGORY: Java<br>
CATEGORY: 読書

</p>
<ul class="table-of-contents">
    <li><a href="#作業所でJavaを勉強中">作業所でJavaを勉強中</a></li>
    <li><a href="#AdoptOpenJDKについて">AdoptOpenJDKについて</a></li>
    <li><a href="#九九のプログラム">九九のプログラム</a></li>
    <li><a href="#時間切れ機能をつける">時間切れ機能をつける</a></li>
    <li><a href="#Javaは素晴らしい言語">Javaは素晴らしい言語</a></li>
    <li><a href="#メモリやストレージをカーネルとは別のもうひとつのシステムがやる">メモリやストレージをカーネルとは別のもうひとつのシステムがやる</a></li>
    <li><a href="#レジスタのログを取る">レジスタのログを取る</a></li>
    <li><a href="#死んだ時に脳から記憶を取り出す">死んだ時に脳から記憶を取り出す</a></li>
    <li><a href="#パソコンは分かってしまうと面白い">パソコンは分かってしまうと面白い</a></li>
</ul>
<div class="section">
    <h3 id="作業所でJavaを勉強中">作業所でJavaを勉強中</h3>
    <p>今日は、デザインの作業所でJavaの勉強をした。<br />
今やっているデザインの仕事で、<br />
紙面の1ページが午前中に完成したため、<br />
次のページは来週やることにして、<br />
午後はJavaの勉強をしていた。<br />
デザインで使っているMacにAdoptOpenJDKを入れて、<br />
結城浩の「<a href="https://www.amazon.co.jp/Java%E8%A8%80%E8%AA%9E%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E3%83%AC%E3%83%83%E3%82%B9%E3%83%B3-%E7%AC%AC3%E7%89%88-%E4%B8%8A-Java%E8%A8%80%E8%AA%9E%E3%82%92%E5%A7%8B%E3%82%81%E3%82%88%E3%81%86-%E7%B5%90%E5%9F%8E/dp/4797371250">Java言語プログラミングレッスン（上）</a>」を読みながら、<br />
九九のプログラムを打ち込んだ。</p>

</div>
<div class="section">
    <h3 id="AdoptOpenJDKについて">AdoptOpenJDKについて</h3>
    <p>僕の開発環境は、Mac（デザインの仕事に使っている）とAdoptOpenJDKとvi。<br />
JDKはjavac（Javaソースコードをクラスファイルにコンパイルするコマンド）や<br />
java（JavaVMでJavaのクラスファイルを実行するコマンド）が含まれており、<br />
Javaの開発に必要である。<br />
長らくSun Microsystemsによって提供されてきたJDKは無料で利用できたが、<br />
OracleによるSunの買収に従い、方針が変わった。<br />
Oracleは2つのJDKバージョンを保守・開発し、<br />
一方がOracleによる公式のビルドであるOracle JDKで、<br />
もう一方がオープンソースのOpenJDK。<br />
Oracle JDKは長期のサポートがOracleによって受けられるが、<br />
無償で使用できるのは個人利用に限られ、商用利用は有償となり、<br />
ビジネスで使うためにはOracleにお金を払う必要がある。<br />
これに対して、OpenJDKはオープンソースであり、GPLでライセンスされ、<br />
個人利用も商用利用も関係なくフリーで利用できるが、サポート期間が短い。<br />
新機能の追加などはOracle JDKに先立ってOpenJDKで行われる。<br />
しかしながら、OpenJDKのコードを元にビルドされた<br />
「Oracleではない別の会社がサポートしてくれる」という<br />
AdoptOpenJDKがあり、<br />
IBMやMicrosoftなど大きな会社がサポートしてくれる。<br />
これはOpenJDKがGPLであるためGPLでライセンスされる。<br />
商用利用でもフリーで利用でき、サポート期間も長い。<br />
僕はこのAdoptOpenJDKをMacに導入した。<br />
また、Eclipseが上手く入らなかったので、エディタにはviを使っている。<br />
vi（vim）には、タブをスペース4文字に表示し、<br />
タブを入力した時にスペース4文字を入力してくれる設定を.vimrcで行った。</p>

</div>
<div class="section">
    <h3 id="九九のプログラム">九九のプログラム</h3>
    <p>九九のプログラムは、結城浩さんの本に書いてあったもので、<br />
ランダムに九九の問題を10問表示し、<br />
ユーザーはそこに答えを入力して、<br />
正解か間違いかを表示して、<br />
最後に正答率を表示するというものである。</p>

</div>
<div class="section">
    <h3 id="時間切れ機能をつける">時間切れ機能をつける</h3>
    <p>しかしながら、そのままでは、<br />
何時間でも制限なく答えを考えられてしまう。<br />
そこで、時間切れ機能をつけようと考えた。<br />
Javaではコマンドラインでの入力をBufferedReaderオブジェクトで行うため、<br />
時間切れ機能を使うにはBufferedReaderクラスに機能を追加する必要がある。<br />
ここで、Javaの便利な機能、「継承」を利用する。<br />
継承をすることで、既存のクラスに新しい機能を付け加えることができる。<br />
まず、BufferedReaderクラスを継承した、WaitingReaderクラスを作る。<br />
コンストラクタには、<br />
与えられた引数をsuper()で親クラスを呼び出してそのまま与える。<br />
WaitingReaderには、<br />
新しいメソッドであるwaitingReadLine()メソッドを作る。<br />
ここで、入力を待機するスレッドと、<br />
時間切れまでスリープをを行うスレッドを分けるために、<br />
Runnableインターフェースを実装してマルチスレッド化をする。<br />
waitingReadLine()メソッドでは、<br />
スレッドを作ってth.start()を実行したら、<br />
その後にreadLine()メソッドを実行し、その結果を返す。<br />
そしてもうひとつのスレッドであるオーバーライドしたrun()メソッドでは、<br />
10秒間スリープして、<br />
10秒後にまだ入力がされていなければ例外を吐くようにする。<br />
例外の名前はTimeOverExceptionとする。<br />
これを、main関数の方でtry - catchブロックで捕捉し、<br />
10秒後に「時間切れです」と表示するようにすればいい。<br />
（たぶんこれで作れるはずだが、<br />
僕はJavaに詳しくないため間違っているかもしれない。<br />
10秒間何も操作できずに停止したりした時は<br />
Javaやプログラミングに無知な僕のせいである。）</p>

</div>
<div class="section">
    <h3 id="Javaは素晴らしい言語">Javaは素晴らしい言語</h3>
    <p>また、僕が思うに、Javaは素晴らしい言語である。<br />
C/C++は高速で自由度が高いが、機械に近い。<br />
逆に、Python/Rubyは遅い代わり、人間に近い。<br />
また、C/C++は、何でも自分で作る必要があるが、<br />
Python/Rubyは逆に整いすぎていて、<br />
何もしなくても言語やライブラリがやってくれる。<br />
JavaはC/C++とPython/Rubyの中間に位置しており、<br />
「プログラミング学習者としてちょうどいい」のである。</p>

</div>
<div class="section">
    <h3 id="メモリやストレージをカーネルとは別のもうひとつのシステムがやる">メモリやストレージをカーネルとは別のもうひとつのシステムがやる</h3>
    <p>僕は、今のOSというのは、<br />
ひとつのカーネルが主役で、<br />
そのカーネルがメモリやストレージの管理をしているが、<br />
これを「もうひとつのシステム」がやるようにすると面白いと思う。<br />
すなわち、プログラムの実行は決められたメモリ位置にある<br />
データを使って行われるが、<br />
カーネルのCPUとは「別のCPU」があり、<br />
そのCPUで動く「メモリ管理専用カーネル」や<br />
「ストレージ再編成専用カーネル」があって、<br />
プログラムを実行しているカーネルとは別に、<br />
ほかのカーネルがメモリやストレージを<br />
「プログラムがもっとも高速にアクセスできるように<br />
常に整備してくれる」のである。</p>

</div>
<div class="section">
    <h3 id="レジスタのログを取る">レジスタのログを取る</h3>
    <p>また、CPUのレジスタにログ機能を付けてみてはどうかと思う。<br />
CPUのレジスタは一時的な領域であり、<br />
プログラムを終了した段階で消えてしまうが、<br />
ログ機能を作ることで、<br />
「プログラムが過去にどんな状態であったとしても、<br />
その過去の全ての状態を復元することができる」。<br />
これによって、プログラムは不正終了することが「絶対になくなる」。</p>

</div>
<div class="section">
    <h3 id="死んだ時に脳から記憶を取り出す">死んだ時に脳から記憶を取り出す</h3>
    <p>また、僕は生物学の研究として、<br />
脳から記憶を取り出す研究をしてはどうかと思う。<br />
たとえば、老人が死を迎える時に、<br />
脳から記憶を取り出して、<br />
それを別の人間に移植する。<br />
こうすることで、記憶を「他の人にコピー」することができ、<br />
「人間が死ぬことは実質的になくなる」のである。</p>

</div>
<div class="section">
    <h3 id="パソコンは分かってしまうと面白い">パソコンは分かってしまうと面白い</h3>
    <p>パソコンについて言うと、<br />
むしろ、「分かってしまうと面白い」ものである。<br />
K&RやJavaコードについても、<br />
なぜそのようにするのかが分かるようになるし、<br />
プログラムを書くのも楽しくなる。<br />
だが、やりたくない人間には、むしろおすすめしない。<br />
C/C++の書き方を学べば学ぶほど、<br />
「C/C++で書くことによる弊害」ばかりが分かって、<br />
C/C++ではない別の言語で書くと、<br />
その「C/C++には無い面白さ」が分かるのだが、<br />
結局学べば学ぶほど、<br />
「プログラミングがなぜ悪いのか」ということばかりが分かるからである。<br />
しかし、そうした「手続き型による弊害の理屈」をいったん乗り越えて、<br />
「手続き型でも関数型でも書ける」ようになった時に、<br />
はじめて分かる「悟り」の体験があると、僕は思っている。</p>

</div>

<script type="text/javascript" src="script.js"></script>
</body>
</html>

